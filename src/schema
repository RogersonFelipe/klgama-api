CREATE TABLE cliente (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  nome VARCHAR(255) NOT NULL,
  ativo BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE usuario (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  nome VARCHAR(255) NOT NULL,
  email VARCHAR(255) UNIQUE NOT NULL,
  senha VARCHAR(255) NOT NULL,
  ativo BOOLEAN DEFAULT true,
  is_adm BOOLEAN DEFAULT false,
  cliente_id UUID NOT NULL REFERENCES cliente(id) ON DELETE CASCADE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_usuario_email ON usuario(email);
CREATE INDEX idx_usuario_cliente_id ON usuario(cliente_id);

CREATE TABLE demanda (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  descr TEXT NOT NULL,
  due_date TIMESTAMP NOT NULL,
  usuario_id UUID NOT NULL REFERENCES usuario(id) ON DELETE CASCADE,
  cliente_id UUID NOT NULL REFERENCES cliente(id) ON DELETE CASCADE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_demanda_usuario_id ON demanda(usuario_id);
CREATE INDEX idx_demanda_cliente_id ON demanda(cliente_id);


senha klgamasenha